https://www.zhihu.com/question/421237964/answer/1795200233  

## 如何理解高并发
**常见的高并发场景有**：淘宝的双11、春运时的抢票、微博大V的热点新闻等。
除了这些典型事情，每秒几十万请求的秒杀系统、每天千万级的订单系统、每天亿级日活的信息流系统等，都可以归为高并发。  

## 高并发系统设计的目标
**高性能、高可用、高可扩展。**  

### 性能指标
通常，设定性能目标时会兼顾**吞吐量**和**响应时间**，比如这样表述：在每秒1万次请求下，**AVG**控制在50ms以下，**TP99**控制在100ms以下。对于高并发系统，AVG和TP分位值必须同时要考虑。  

另外，从用户体验角度来看，**200毫秒**被认为是第一个分界点，用户感觉不到延迟，**1秒是**第二个分界点，用户能感受到延迟，但是可以接受。  

因此，对于一个健康的高并发系统，TP99应该控制在200毫秒以内，TP999或者TP9999应该控制在1秒以内。  

### 可扩展性指标
对于业务集群或者基础组件来说，扩展性 = 性能提升比例 / 机器增加比例，理想的扩展能力是：资源增加几倍，性能提升几倍。通常来说，扩展能力要维持在70%以上。  

高扩展性需要考虑：服务集群、数据库、缓存和消息队列等中间件、负载均衡、带宽、依赖的第三方等，当并发达到某一个量级后，上述每个因素都可能成为扩展的瓶颈点。

## 高并发的实践方案
### 通用设计方法
* 纵向扩展（scale-up）  
它的目标是提升单机的处理能力，包括：1、提升单机的硬件性能：通过增加内存、CPU核数、存储容量、或者将磁盘升级成SSD等硬件的方式来提升。2、提升单机的软件性能：使用缓存减少I/O次数，使用并发或者异步的方式增加吞吐量。  
* 横向扩展（scale-out）  
通过集群部署以进一步提高并发处理能力，包括: 1、做好分层架构; 2、各层进行水平扩展。
